# CPU管理  

**操作系统在管理CPU的过程中，引出了多进程"图像"**  

## CPU工作原理  

**取指——译码(解释指令)——执行**  

* CPU上电后，根据PC指针的值，从内存中**取指**  如PC = 50  内存中50的指令是mov ax, [100] 通过总线将此指令传给CPU  
* 只要有一个初始PC，后面PC会自动累加

## 管理CPU  

基于上面CPU的工作原理，最直观的管理CPU的方式就是**设置好PC的初值**  

## 问题  

IO操作的时间基本上大于计算指令的时间 (IO操作要访问磁盘，驱动磁臂，涉及到机械设备，CPU计算则完全是在电路上工作)  
**一个例子：** 内存中按地址前后顺序，如果先存在很多条计算指令，再有一条IO指令，然后又有很多计算指令，PC初值在计算的第一条指令，PC是不能跳过IO指令的因为后面的计算指令很可能依赖这条IO指令的结果。 如果按照上面管理CPU的方式(只设置好PC初值)，产生的想象就是，工作了一段时间，停一段时间(执行IO指令)，又继续工作一段时间，因为IO操作非常耗时，因此前面很多的计算指令加起来时间可能和一条IO指令差不多，这样CPU的利用率可能只有50%，当IO指令比例较高时，高到计算指令相对于IO操作耗费的时间几乎可以忽略，这样CPU利用率几乎是0，绝大多数时间都在等待IO  

## 多道程序 交替执行  

一个CPU上交替的执行多个程序：**并发** 
管理好CPU(让CPU比较忙碌)的方式————并发（同时 出发 交替执行）

![image](https://user-images.githubusercontent.com/58176267/155948787-348f41a8-7668-40d2-a2f6-659827435c0c.png)
