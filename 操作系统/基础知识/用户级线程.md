# 用户级线程  


## 线程的引入  

**进程 = 资源 + 指令执行序列**  

其中**资源表示映射表(内存资源)**，那么多进程切换时，能否只切换指令序列变换，而资源不变换？  
* 将资源和指令执行分来  
* 一个资源+多个指令执行序列  

### 线程  

在一个资源下，启动了多个轻巧的指令序列，这个指令序列可以来回切，而且切换的时候只切换指令序列不需要动资源，既然也是指令序列在来回切，而且和进程不同(不需要特别复杂)，就叫**线程**

* **保留了并发的优点，避免了进程切换代价**  
* 进程的切换可以分成两部分，指令切换+映射表切换(内存管理部分)  
* 线程的切换可以只关注指令的切换  

![image](https://user-images.githubusercontent.com/58176267/156487067-cb07e0f7-bbcd-4587-8a2d-9dcce081df1a.png)


#### 线程的价值 即 多个指令序列 + 一个地址空间是否实用  

* 一个网页浏览器  
    * 一个线程用来从服务器接收数据  
    * 一个线程用来显示图片  
    * 一个线程用来出来图片(如解压缩)  
    * 一个线程用来显示图片  

* 上面这些如果变成顺序执行，就需要先下载数据，等所有数据下载完，再调用另外一段程序来显示文本，执行完以后，再调用另外一段程序显示图片  
* 因此这些**线程需要共享资源**
    * 接收数据放在内存100处，需要显示时从该处读  
    * 所有的文本、图片都显示在一个屏幕上  

