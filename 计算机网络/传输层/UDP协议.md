# UDP协议  

UDP : User Datagram Protocol 用户数据报协议[RFC 768]

* 基于IP协议  
    * 复用/分用  
    * 简单的错误校验  因为不能保证链路层都有错误检验机制，路由器端也可能出错，出于一种端到端的原则，需要在传输层添加这种机制  
  
 * “Best effort“ 服务，UDP段可能发生  
    * 丢失
    * 非按序到达 
    * 因为UDP简单的错误检验，不会做错误恢复，它相当于把IP层暴露给了应用层，IP层就是一种Best effort服务因此UDP也是，因为IP层可能会发生丢失，非按序到达，所以UDP也有

* 无连接  
    * UDP发送方和接收方之间不需要握手
    * 每个UDP段的处理独立于其他段  

## UDP的优点  

* 无需建立连接(减少延迟)  
* 实现简单：无需维护连接状态  
* 头部开销少 (UDP头部 8个字节   TCP头部20个字节)  
* 没有拥塞控制：应用可更好地控制发送时间和速率   TCP有拥塞控制，会根据实际情况调整速率，不会完全按应用设定的速率来  


## 应用  

* 流媒体的应用  
    * 容忍丢失
    * 速率敏感

* DNS 
* SNMP  

## UDP上实现可靠数据传输  

* 在应用层增加可靠性机制 
* 应用特定的错误恢复机制  


## UDP报文段格式  

![image](https://user-images.githubusercontent.com/58176267/158095381-51c60936-f17a-41b6-b3de-4bdf9505c90b.png)

源端口号 目的端口号 各16字节  
length：UDP段的长度  checksum: 校验和  
应用数据



 
